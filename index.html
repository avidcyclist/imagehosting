<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dynamic Pricing</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f9f9f9;
    }

    .container {
      max-width: 1000px;
      margin: 20px auto;
      padding: 20px;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
    }

    p {
      text-align: center;
      color: #555;
    }

    .categories {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
    }

    .category {
      background: #fff;
      border: 3px solid #ddd;
      border-radius: 10px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      overflow: hidden;
      text-align: center;
      position: relative;
      cursor: pointer;
      transition: transform 0.2s, border-color 0.2s, box-shadow 0.2s;
      height: 300px;
      display: flex;
      flex-direction: column;
    }

    .category img {
      width: 100%;
      /* Full width of the card */
      height: auto;
      /* Automatically scale height based on width */
      max-height: 75%;
      /* Constrain to 75% of card height */
      object-fit: contain;
      /* Fill the container while cropping excess */
      display: block;
      /* Prevent inline spacing issues */
      background-color: #f0f0f0;
      /* Fallback background */
    }

    .category label {
      padding: 10px;
      font-size: 16px;
      font-weight: 300;
      color: #333;
      text-align: center;
      background-color: #f9f9f9;
      border-top: 1px solid #ddd;

    }

    .category:hover {
      transform: translateY(-5px);
      border-color: #007bff;
      box-shadow: 0 0 15px rgba(0, 123, 255, 0.8);
    }

    .category input[type="checkbox"] {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
      cursor: pointer;
    }

    .category input[type="checkbox"]:checked+label {
      background-color: #e6f7ff;
      border-color: #007bff;
      box-shadow: 0 0 15px rgba(0, 123, 255, 0.8);
    }

    .category input[type="checkbox"]:checked+label:after {
      content: "âœ”";
      color: #007bff;
      font-size: 120px;
      /* Larger size to fill the card */
      font-weight: bold;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      /* Center the checkmark */
      z-index: 10;
      /* Ensure it appears above other elements */
      opacity: 0.8;
      /* Slight transparency for better visibility */
    }

    .summary {
      margin-top: 30px;
      padding: 20px;
      background-color: #f1f1f1;
      border-radius: 10px;
    }

    .summary h2 {
      text-align: center;
      margin-bottom: 20px;
    }

    .total {
      margin-top: 20px;
      font-size: 20px;
      font-weight: bold;
      text-align: center;
    }

    .discount {
      text-align: center;
      color: green;
      font-weight: bold;
    }

    @media (max-width: 600px) {
      .category {
        height: auto;
        /* Allow card height to adjust naturally */
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        /* Ensure image and label are spaced */
      }

      .category img {
        flex: 3;
        /* Allow the image to take up more space (3/4) */
        max-width: 100%;
        height: auto;
        object-fit: contain;
        /* Keep the image proportional */
        margin: 0;
        /* Remove default margins */
      }

      .category label {
        flex: 1;
        /* Allocate 1/4 of the space to the label */
        padding: 10px;
        font-size: 1rem;
        /* Keep label readable */
        text-align: center;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>Dynamic Pricing Calculator</h1>
    <p>Select programs to see your total and savings:</p>

    <div class="categories" id="categories">
      <!-- Membership Options -->
      <div class="category">
        <input type="checkbox" id="pif-membership" data-price="660">
        <label for="pif-membership">
          <img
            src="https://raw.githubusercontent.com/avidcyclist/imagehosting/ec3268f13cbc32f031768709605b8463ca831818/21054e7842727d1064131b1e6d851630.png"
            alt="PIF Membership">
          PIF Membership - $660 (One-Time Payment)
        </label>
      </div>

      <div class="category">
        <input type="checkbox" id="membership" data-price="60">
        <label for="membership">
          <img
            src="https://raw.githubusercontent.com/avidcyclist/imagehosting/refs/heads/main/college%20winter%20break%20membership%20flyer.png"
            alt="Membership">
          Membership - $60 Month 12 Month Membership
        </label>
      </div>

      <!-- Strength Options -->
      <div class="category">
        <input type="checkbox" id="strength" data-price="275" data-membership-discount="50">
        <label for="strength">
          <img
            src="https://raw.githubusercontent.com/avidcyclist/imagehosting/refs/heads/main/college%20winter%20break%20membership%20flyer.png"
            alt="Strength and Agility">
          Unlimited HS Strength and Agility - $275
        </label>
      </div>

      <div class="category">
        <input type="checkbox" id="jrhs-strength" data-price="180" data-membership-discount="50">
        <label for="jrhs-strength">
          <img
            src="https://raw.githubusercontent.com/avidcyclist/imagehosting/refs/heads/main/college%20winter%20break%20membership%20flyer.png"
            alt="JRHS Strength and Agility">
          JRHS Strength and Agility - $180
        </label>
      </div>

      <!-- Lesson Levels -->
      <div class="category">
        <input type="checkbox" id="lessons-level1" data-price="160" data-membership-discount="40">
        <label for="lessons-level1">
          <img
            src="https://raw.githubusercontent.com/avidcyclist/imagehosting/refs/heads/main/college%20winter%20break%20membership%20flyer.png"
            alt="Level 1 Lessons">
          Level 1 Lessons 4 Pack - $160
        </label>
      </div>

      <div class="category">
        <input type="checkbox" id="lessons-level2" data-price="180" data-membership-discount="40">
        <label for="lessons-level2">
          <img
            src="https://raw.githubusercontent.com/avidcyclist/imagehosting/refs/heads/main/college%20winter%20break%20membership%20flyer.png"
            alt="Level 2 Lessons">
          Level 2 Lessons 4 Pack - $180
        </label>
      </div>

      <div class="category">
        <input type="checkbox" id="lessons-level3" data-price="200" data-membership-discount="40">
        <label for="lessons-level3">
          <img
            src="https://raw.githubusercontent.com/avidcyclist/imagehosting/refs/heads/main/college%20winter%20break%20membership%20flyer.png"
            alt="Level 3 Lessons">
          Level 3 Lessons 4 Pack - $200
        </label>
      </div>

      <!-- Arm Care -->
      <div class="category">
        <input type="checkbox" id="armcare" data-price="900" data-membership-discount="100">
        <label for="armcare">
          <img
            src="https://raw.githubusercontent.com/avidcyclist/imagehosting/refs/heads/main/college%20winter%20break%20membership%20flyer.png"
            alt="Arm Care">
          HS Arm Care - $900
        </label>
      </div>

      <div class="category">
        <input type="checkbox" id="jrhs-armcare" data-price="800" data-membership-discount="100">
        <label for="jrhs-armcare">
          <img
            src="https://raw.githubusercontent.com/avidcyclist/imagehosting/refs/heads/main/college%20winter%20break%20membership%20flyer.png"
            alt="JRHS Arm Care">
          JRHS Arm Care - $800
        </label>
      </div>

      <div class="category">
        <input type="checkbox" id="youth-armcare" data-price="700" data-membership-discount="100">
        <label for="youth-armcare">
          <img
            src="https://raw.githubusercontent.com/avidcyclist/imagehosting/refs/heads/main/college%20winter%20break%20membership%20flyer.png"
            alt="Youth Arm Care">
          Youth Arm Care - $700
        </label>
      </div>
    </div>

    <div class="summary" id="summary">
      <h2>Summary</h2>
      <ul>
        <li id="summary-pif-membership" style="display: none;">PIF Membership - $<span class="price">0.00</span></li>
        <li id="summary-membership" style="display: none;">Membership - $<span class="price">0.00</span></li>
        <li id="summary-strength" style="display: none;">Unlimited HS Strength and Agility - $<span
            class="price">0.00</span></li>
        <li id="summary-jrhs-strength" style="display: none;">JRHS Strength and Agility - $<span
            class="price">0.00</span>
        </li>
        <li id="summary-lessons-level1" style="display: none;">Level 1 Lessons 4 Pack - $<span class="price">0.00</span>
        </li>
        <li id="summary-lessons-level2" style="display: none;">Level 2 Lessons 4 Pack - $<span class="price">0.00</span>
        </li>
        <li id="summary-lessons-level3" style="display: none;">Level 3 Lessons 4 Pack - $<span class="price">0.00</span>
        </li>
        <li id="summary-armcare" style="display: none;">HS Arm Care - $<span class="price">0.00</span></li>
        <li id="summary-jrhs-armcare" style="display: none;">JRHS Arm Care - $<span class="price">0.00</span></li>
        <li id="summary-youth-armcare" style="display: none;">Youth Arm Care - $<span class="price">0.00</span></li>
      </ul>
    </div>

    <div class="total">
      Total: $<span id="total">0</span>
    </div>
    <div class="discount"></div>
  </div>

  <script>
    const checkboxes = document.querySelectorAll('#categories input[type="checkbox"]');
    const totalElement = document.getElementById('total');
    const discountElement = document.querySelector('.discount');

    const summaryItems = {
      "pif-membership": document.getElementById("summary-pif-membership"),
      membership: document.getElementById("summary-membership"),
      strength: document.getElementById("summary-strength"),
      "jrhs-strength": document.getElementById("summary-jrhs-strength"),
      "lessons-level1": document.getElementById("summary-lessons-level1"),
      "lessons-level2": document.getElementById("summary-lessons-level2"),
      "lessons-level3": document.getElementById("summary-lessons-level3"),
      armcare: document.getElementById("summary-armcare"),
      "jrhs-armcare": document.getElementById("summary-jrhs-armcare"),
      "youth-armcare": document.getElementById("summary-youth-armcare"),
    };

    function calculateTotal() {
      let total = 0;
      let totalSavings = 0;

      const membershipCheckbox = document.getElementById("membership");
      const pifMembershipCheckbox = document.getElementById("pif-membership");
      const membershipActive = membershipCheckbox.checked || pifMembershipCheckbox.checked;

      const strengthCheckbox = document.getElementById("strength");
      const jrhsStrengthCheckbox = document.getElementById("jrhs-strength");

      let strengthSelected = strengthCheckbox.checked || jrhsStrengthCheckbox.checked;

      for (const checkbox of checkboxes) {
        const id = checkbox.id;
        const summaryItem = summaryItems[id];
        const basePrice = parseFloat(checkbox.getAttribute("data-price"));
        let discount = 0;

        if (checkbox.checked) {
          // Discounts for Lessons
          if (id.startsWith("lessons") && membershipActive) {
            discount = parseFloat(checkbox.getAttribute("data-membership-discount")) || 0;
            totalSavings += discount;
          }

          // Discounts for Strength
          if ((id === "strength" || id === "jrhs-strength") && membershipActive) {
            discount = 50; // $50 discount for Strength with Membership
            totalSavings += discount;
          }

          // Discounts for Arm Care
          if (
            (id === "armcare" || id === "jrhs-armcare" || id === "youth-armcare") &&
            membershipActive
          ) {
            discount = 100; // $100 discount for Arm Care with Membership
            totalSavings += discount;

            // Additional $100 combo discount for Membership + Strength + Arm Care
            if (strengthSelected) {
              discount += 100; // Add the combo discount
              totalSavings += 100;
            }
          }

          const finalPrice = basePrice - discount;
          total += finalPrice;

          if (summaryItem) {
            summaryItem.querySelector(".price").textContent = finalPrice.toFixed(2);
            summaryItem.style.display = "list-item";
          }
        } else if (summaryItem) {
          summaryItem.style.display = "none";
        }
      }

      // Update Total and Savings Display
      totalElement.textContent = total.toFixed(2);
      discountElement.textContent = totalSavings > 0 ? `You saved $${totalSavings.toFixed(2)}!` : '';
    }

    checkboxes.forEach((checkbox) => {
      checkbox.addEventListener("change", calculateTotal);
    });
  </script>
</body>

</html>
